<h1>Matrícula</h1>

<form class="g-3" (ngSubmit)="submit()" [formGroup]="postagemForm" #formDir="ngForm">

  <fieldset>
    <legend>Acesso</legend>
    <div class="row">
      <div class="col-md-4">
        <label for="inputEmail4" class="form-label">Email</label>
        <div class="input-group">
          <span class="input-group-text" id="basic-addon1">@</span>
          <input type="text" class="form-control" [ngClass]="campoInvalido('email') ? 'is-invalid' : ''" aria-label="Username" aria-describedby="basic-addon1" id="inputEmail4" formControlName="email">

          <div *ngIf="campoInvalido('email')" class="invalid-feedback">
            <div *ngIf="postagemForm.controls['email'].errors?.['required']">O e-mail é obrigatório</div>
            <div *ngIf="postagemForm.controls['email'].errors?.['email']">
              O e-mail deve ser informado corretamente
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <label for="inputPassword4" class="form-label">Senha</label>
        <input type="password" class="form-control" id="inputPassword4" />
      </div>
    </div>
    <div class="col-12 mt-2">
      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="gridCheck" />
        <label class="form-check-label" for="gridCheck"> Check me out </label>
      </div>
    </div>
  </fieldset>

  <fieldset class="mt-4">
    <legend>Dados cadastrais</legend>
    <div class="row">
      <div class="col-md-6">
        <label for="nome" class="form-label">Nome</label>
        <input type="text" class="form-control" [ngClass]="campoInvalido('nome') ? 'is-invalid' : ''" id="nome" formControlName="nome" />

        <div *ngIf="campoInvalido('nome')" class="invalid-feedback">
          <div *ngIf="postagemForm.controls['nome'].errors?.['required']">O título é obrigatório</div>
          <div *ngIf="postagemForm.controls['nome'].errors?.['minlength']">
            O tamanho mínimo do campo é de 3 caracteres
          </div>
        </div>

      </div>
      <div class="col-md-2">
        <label for="cpf" class="form-label">CPF</label>
        <input type="text" class="form-control" [ngClass]="campoInvalido('cpf') ? 'is-invalid' : ''" id="cpf" formControlName="cpf" />

        <div *ngIf="campoInvalido('cpf')" class="invalid-feedback">
          <div *ngIf="postagemForm.controls['cpf'].errors?.['required']">O CPF é obrigatório</div>
          <div *ngIf="postagemForm.controls['cpf'].errors?.['cpfNotValid']">
            O CPF deve ser informado corretamente
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-2 offset-6">
        <label for="inputPassword4" class="form-label">Data de nascimento</label>
        <input type="text" class="form-control" id="inputPassword4" />
      </div>
    </div>

    <div class="row">
      <div class="col-md-10">
        <label class="form-label">Sexo</label>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios1" value="option1">
          <label class="form-check-label" for="gridRadios1">
            Masculino
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios2" value="option2">
          <label class="form-check-label" for="gridRadios2">
            Feminino
          </label>
        </div>
        <div class="form-check disabled">
          <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios3" value="option3">
          <label class="form-check-label" for="gridRadios3">
            Prefiro não informar
          </label>
        </div>
      </div>
    </div>
  </fieldset>

  <fieldset class="mt-4">
    <legend>Endereço principal</legend>
    <div class="row">
      <div class="col-10">
        <label for="inputAddress" class="form-label">Endereço</label>
        <input
          type="text"
          class="form-control"
          id="inputAddress"
          placeholder="1234 Main St"
        />
      </div>
      <div class="col-2">
        <label for="inputAddress" class="form-label">Número</label>
        <input
          type="text"
          class="form-control"
          id="inputAddress"
          placeholder="1234 Main St" />
      </div>
    </div>

    <div class="row">
      <div class="col-4">
        <label for="inputAddress2" class="form-label">Complemento</label>
        <input
          type="text"
          class="form-control"
          id="inputAddress2"
          placeholder="Exemplo: Apartamento 666"
        />
      </div>
    </div>

    <div class="row">
      <div class="col-md-6">
        <label for="inputCity" class="form-label">Cidade</label>
        <input type="text" class="form-control" id="inputCity" />
      </div>

      <div class="col-md-4">
        <label for="inputState" class="form-label">Estado</label>
        <select id="inputState" class="form-select">
          <option selected>Selecione...</option>
          <option value="PR">Paraná</option>
          <option value="RS">Rio Grande do Sul</option>
          <option value="SC">Santa Catarina</option>
        </select>
      </div>

      <div class="col-md-2">
        <label for="inputZip" class="form-label">CEP</label>
        <input type="text" class="form-control" id="inputZip" />
      </div>
    </div>
  </fieldset>

  <div class="row mt-3">
    <div class="col-12">
      <button type="submit" class="btn btn-primary" [disabled]="formDir.pristine || formDir.invalid">Registrar matrícula</button>
    </div>
  </div>

</form>
